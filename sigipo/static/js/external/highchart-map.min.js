/*!
  * Highmaps JS v10.0.0 (2022-03-07)
  * Highmaps as a plugin for Highcharts or Highcharts Stock.
  * (c) 2011-2021 Torstein Honsi
  * License: www.highcharts.com/license
  */
!function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,o,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Core/Axis/Color/ColorAxisComposition.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],function(t,e){var o,i=t.parse,r=e.addEvent,n=e.extend,s=e.merge,a=e.pick,p=e.splat;return function(t){function e(){var t=this,e=this.options;this.colorAxis=[],e.colorAxis&&(e.colorAxis=p(e.colorAxis),e.colorAxis.forEach(function(e,o){e.index=o,new v(t,e)}))}function o(t){var e,o,i=this,r=function(e){-1!==(e=t.allItems.indexOf(e))&&(i.destroyItem(t.allItems[e]),t.allItems.splice(e,1))},n=[];for((this.chart.colorAxis||[]).forEach(function(t){(e=t.options)&&e.showInLegend&&(e.dataClasses&&e.visible?n=n.concat(t.getDataClassLegendSymbols()):e.visible&&n.push(t),t.series.forEach(function(t){t.options.showInLegend&&!e.dataClasses||("point"===t.options.legendType?t.points.forEach(function(t){r(t)}):r(t))}))}),o=n.length;o--;)t.allItems.unshift(n[o])}function l(t){t.visible&&t.item.legendColor&&t.item.legendSymbol.attr({fill:t.item.legendColor})}function h(){var t=this.chart.colorAxis;t&&t.forEach(function(t,e,o){t.update({},o)})}function c(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function u(){var t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}function d(t){var e=this,o=t?"show":"hide";e.visible=e.options.visible=!!t,["graphic","dataLabel"].forEach(function(t){e[t]&&e[t][o]()}),this.series.buildKDTree()}function f(){var t=this,e=this.options.nullColor,o=this.colorAxis,i=this.colorKey;(this.data.length?this.data:this.points).forEach(function(r){var n=r.getNestedProperty(i);(n=r.options.color||(r.isNull||null===r.value?e:o&&void 0!==n?o.toColor(n,r):r.color||t.color))&&r.color!==n&&(r.color=n,"point"===t.options.legendType&&r.legendItem&&t.chart.legend.colorizeItem(r,r.visible))})}function y(t){var e=t.prototype.createAxis;t.prototype.createAxis=function(t,o){if("colorAxis"!==t)return e.apply(this,arguments);var i=new v(this,s(o.axis,{index:this[t].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach(function(t){t.series=[]}),this.series.forEach(function(t){t.bindAxes(),t.isDirtyData=!0}),a(o.redraw,!0)&&this.redraw(o.animation),i}}function g(){this.elem.attr("fill",i(this.start).tweenTo(i(this.end),this.pos),void 0,!0)}function m(){this.elem.attr("stroke",i(this.start).tweenTo(i(this.end),this.pos),void 0,!0)}var v,b=[];t.compose=function(t,i,s,a,p){v||(v=t),-1===b.indexOf(i)&&(b.push(i),(t=i.prototype).collectionsWithUpdate.push("colorAxis"),t.collectionsWithInit.colorAxis=[t.addColorAxis],r(i,"afterGetAxes",e),y(i)),-1===b.indexOf(s)&&(b.push(s),(i=s.prototype).fillSetter=g,i.strokeSetter=m),-1===b.indexOf(a)&&(b.push(a),r(a,"afterGetAllItems",o),r(a,"afterColorizeItem",l),r(a,"afterUpdate",h)),-1===b.indexOf(p)&&(b.push(p),n(p.prototype,{optionalAxis:"colorAxis",translateColors:f}),n(p.prototype.pointClass.prototype,{setVisible:d}),r(p,"afterTranslate",c),r(p,"bindAxes",u))},t.pointSetVisible=d}(o||(o={})),o}),e(t,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}}),e(t,"Core/Axis/Color/ColorAxis.js",[t["Core/Axis/Axis.js"],t["Core/Color/Color.js"],t["Core/Axis/Color/ColorAxisComposition.js"],t["Core/Axis/Color/ColorAxisDefaults.js"],t["Core/Globals.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o,i,r,n,s,a){var p=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),l=e.parse,h=r.noop,c=s.series,u=a.extend,d=a.isNumber,f=a.merge,y=a.pick;return e=function(t){function e(e,o){var i=t.call(this,e,o)||this;return i.beforePadding=!1,i.chart=void 0,i.coll="colorAxis",i.dataClasses=void 0,i.legendItem=void 0,i.legendItems=void 0,i.name="",i.options=void 0,i.stops=void 0,i.visible=!0,i.init(e,o),i}return p(e,t),e.compose=function(t,i,r,n){o.compose(e,t,i,r,n)},e.prototype.init=function(o,i){var r=o.options.legend||{},n=i.layout?"vertical"!==i.layout:"vertical"!==r.layout,s=i.visible;r=f(e.defaultColorAxisOptions,i,{showEmpty:!1,title:null,visible:r.enabled&&!1!==s}),this.coll="colorAxis",this.side=i.side||n?2:1,this.reversed=i.reversed||!n,this.opposite=!n,t.prototype.init.call(this,o,r),this.userOptions.visible=s,i.dataClasses&&this.initDataClasses(i),this.initStops(),this.horiz=n,this.zoomEnabled=!1},e.prototype.initDataClasses=function(t){var e,o=this.chart,i=this.options,r=t.dataClasses.length,n=0,s=o.options.chart.colorCount;this.dataClasses=e=[],this.legendItems=[],(t.dataClasses||[]).forEach(function(t,a){t=f(t),e.push(t),!o.styledMode&&t.color||("category"===i.dataClassColor?(o.styledMode||(a=o.options.colors,s=a.length,t.color=a[n]),t.colorIndex=n,++n===s&&(n=0)):t.color=l(i.minColor).tweenTo(l(i.maxColor),2>r?.5:a/(r-1)))})},e.prototype.hasData=function(){return!!(this.tickPositions||[]).length},e.prototype.setTickPositions=function(){if(!this.dataClasses)return t.prototype.setTickPositions.call(this)},e.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach(function(t){t.color=l(t[1])})},e.prototype.setOptions=function(e){t.prototype.setOptions.call(this,e),this.options.crosshair=this.options.marker},e.prototype.setAxisSize=function(){var t,o,i=this.legendSymbol,r=this.chart,n=r.options.legend||{};i?(this.left=n=i.attr("x"),this.top=t=i.attr("y"),this.width=o=i.attr("width"),this.height=i=i.attr("height"),this.right=r.chartWidth-n-o,this.bottom=r.chartHeight-t-i,this.len=this.horiz?o:i,this.pos=this.horiz?n:t):this.len=(this.horiz?n.symbolWidth:n.symbolHeight)||e.defaultLegendLength},e.prototype.normalizedValue=function(t){return this.logarithmic&&(t=this.logarithmic.log2lin(t)),1-(this.max-t)/(this.max-this.min||1)},e.prototype.toColor=function(t,e){var o,i=this.dataClasses,r=this.stops;if(i)for(o=i.length;o--;){var n=i[o],s=n.from;if(r=n.to,(void 0===s||t>=s)&&(void 0===r||t<=r)){var a=n.color;e&&(e.dataClass=o,e.colorIndex=n.colorIndex);break}}else{for(t=this.normalizedValue(t),o=r.length;o--&&!(t>r[o][0]););s=r[o]||r[o+1],t=1-((r=r[o+1]||s)[0]-t)/(r[0]-s[0]||1),a=s.color.tweenTo(r.color,t)}return a},e.prototype.getOffset=function(){var o=this.legendGroup,i=this.chart.axisOffset[this.side];if(o){this.axisParent=o,t.prototype.getOffset.call(this);var r=this.chart.legend;r.allItems.forEach(function(t){t instanceof e&&t.drawLegendSymbol(r,t)}),r.render(),this.chart.getMargins(!0),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=i}},e.prototype.setLegendColor=function(){var t=this.reversed,e=t?1:0;t=t?0:1,e=this.horiz?[e,0,t,0]:[0,t,0,e],this.legendColor={linearGradient:{x1:e[0],y1:e[1],x2:e[2],y2:e[3]},stops:this.stops}},e.prototype.drawLegendSymbol=function(t,o){var i=t.padding,r=t.options,n=this.horiz,s=y(r.symbolWidth,n?e.defaultLegendLength:12),a=y(r.symbolHeight,n?12:e.defaultLegendLength),p=y(r.labelPadding,n?16:30);r=y(r.itemDistance,10),this.setLegendColor(),o.legendSymbol||(o.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,s,a).attr({zIndex:1}).add(o.legendGroup)),this.legendItemWidth=s+i+(n?r:this.options.labels.x+this.maxLabelLength),this.legendItemHeight=a+i+(n?p:0)},e.prototype.setState=function(t){this.series.forEach(function(e){e.setState(t)})},e.prototype.setVisible=function(){},e.prototype.getSeriesExtremes=function(){var t,e=this.series,o=e.length;for(this.dataMin=1/0,this.dataMax=-1/0;o--;){var i=e[o],r=i.colorKey=y(i.options.colorKey,i.colorKey,i.pointValKey,i.zoneAxis,"y"),n=i.pointArrayMap,s=i[r+"Min"]&&i[r+"Max"];if(i[r+"Data"])var a=i[r+"Data"];else if(n){a=[],n=n.indexOf(r);var p=i.yData;if(0<=n&&p)for(t=0;t<p.length;t++)a.push(y(p[t][n],p[t]))}else a=i.yData;s?(i.minColorValue=i[r+"Min"],i.maxColorValue=i[r+"Max"]):(a=c.prototype.getExtremes.call(i,a),i.minColorValue=a.dataMin,i.maxColorValue=a.dataMax),void 0!==i.minColorValue&&(this.dataMin=Math.min(this.dataMin,i.minColorValue),this.dataMax=Math.max(this.dataMax,i.maxColorValue)),s||c.prototype.applyExtremes.call(i)}},e.prototype.drawCrosshair=function(e,o){var i=o&&o.plotX,r=o&&o.plotY,n=this.pos,s=this.len;if(o){var a=this.toPixels(o.getNestedProperty(o.series.colorKey));a<n?a=n-2:a>n+s&&(a=n+s+2),o.plotX=a,o.plotY=this.len-a,t.prototype.drawCrosshair.call(this,e,o),o.plotX=i,o.plotY=r,this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!=typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}},e.prototype.getPlotLinePath=function(e){var o=this.left,i=e.translatedValue,r=this.top;return d(i)?this.horiz?[["M",i-4,r-6],["L",i+4,r-6],["L",i,r],["Z"]]:[["M",o,i],["L",o-6,i+6],["L",o-6,i-6],["Z"]]:t.prototype.getPlotLinePath.call(this,e)},e.prototype.update=function(e,o){var i=this.chart.legend;this.series.forEach(function(t){t.isDirtyData=!0}),(e.dataClasses&&i.allItems||this.dataClasses)&&this.destroyItems(),t.prototype.update.call(this,e,o),this.legendItem&&(this.setLegendColor(),i.colorizeItem(this,!0))},e.prototype.destroyItems=function(){var t=this.chart;this.legendItem?t.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(e){t.legend.destroyItem(e)}),t.isDirtyLegend=!0},e.prototype.destroy=function(){this.chart.isDirtyLegend=!0,this.destroyItems(),t.prototype.destroy.apply(this,[].slice.call(arguments))},e.prototype.remove=function(e){this.destroyItems(),t.prototype.remove.call(this,e)},e.prototype.getDataClassLegendSymbols=function(){var t,e=this,o=e.chart,i=e.legendItems,r=o.options.legend,s=r.valueDecimals,a=r.valueSuffix||"";return i.length||e.dataClasses.forEach(function(r,p){var l=r.from,c=r.to,d=o.numberFormatter,f=!0;t="",void 0===l?t="< ":void 0===c&&(t="> "),void 0!==l&&(t+=d(l,s)+a),void 0!==l&&void 0!==c&&(t+=" - "),void 0!==c&&(t+=d(c,s)+a),i.push(u({chart:o,name:t,options:{},drawLegendSymbol:n.drawRectangle,visible:!0,setState:h,isDataClass:!0,setVisible:function(){f=e.visible=!f,e.series.forEach(function(t){t.points.forEach(function(t){t.dataClass===p&&t.setVisible(f)})}),o.legend.colorizeItem(this,f)}},r))}),i},e.defaultColorAxisOptions=i,e.defaultLegendLength=200,e.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"],e}(t),Array.prototype.push.apply(t.keepProps,e.keepProps),e}),e(t,"Maps/MapNavigationOptionsDefault.js",[t["Core/DefaultOptions.js"],t["Core/Utilities.js"]],function(t,e){return(e=e.extend)(t.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),t.defaultOptions.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}}),e(t,"Maps/MapNavigation.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e,o){function i(t){t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)}function r(t){this.navButtons=[],this.init(t)}var n=e.doc,s=o.addEvent,a=o.extend,p=o.isNumber,l=o.merge,h=o.objectEach,c=o.pick;r.prototype.init=function(t){this.chart=t},r.prototype.update=function(t){var e,o,r,n,p=this,u=this.chart,d=u.options.mapNavigation,f=function(t){this.handler.call(u,t),i(t)},y=p.navButtons;for(t&&(d=u.options.mapNavigation=l(u.options.mapNavigation,t));y.length;)y.pop().destroy();c(d.enableButtons,d.enabled)&&!u.renderer.forExport&&(p.navButtonsGroup||(p.navButtonsGroup=u.renderer.g().attr({zIndex:4}).add()),h(d.buttons,function(t,h){t=l(d.buttonOptions,t),!u.styledMode&&t.theme&&((e=t.theme).style=l(t.theme.style,t.style),r=(o=e.states)&&o.hover,n=o&&o.select,delete e.states);var c=u.renderer.button(t.text||"",0,0,f,e,r,n,void 0,"zoomIn"===h?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[h]).attr({width:t.width,height:t.height,title:u.options.lang[h],padding:t.padding,zIndex:5}).add(p.navButtonsGroup);if(c.handler=t.onclick,s(c.element,"dblclick",i),y.push(c),a(t,{width:c.width,height:2*c.height}),u.hasLoaded)c.align(t,!1,t.alignTo);else var g=s(u,"load",function(){c.element&&c.align(t,!1,t.alignTo),g()})}),t=function(){var t=u.exportingGroup&&u.exportingGroup.getBBox();if(t){var e=p.navButtonsGroup.getBBox();if(!(e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y)){var o=-e.y-e.height+t.y-5;t=t.y+t.height-e.y+5,p.navButtonsGroup.attr({translateY:"bottom"===(d.buttonOptions&&d.buttonOptions.verticalAlign)?o:t})}}},u.hasLoaded||s(u,"render",t)),this.updateEvents(d)},r.prototype.updateEvents=function(t){var e=this.chart;c(t.enableDoubleClickZoom,t.enabled)||t.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||s(e.container,"dblclick",function(t){e.pointer.onContainerDblClick(t)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),c(t.enableMouseWheelZoom,t.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||s(e.container,void 0!==n.onwheel?"wheel":void 0!==n.onmousewheel?"mousewheel":"DOMMouseScroll",function(t){return e.pointer.inClass(t.target,"highcharts-no-mousewheel")||(e.pointer.onContainerMouseWheel(t),i(t)),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},a(t.prototype,{fitToBox:function(t,e){return[["x","width"],["y","height"]].forEach(function(o){var i=o[0];o=o[1],t[i]+t[o]>e[i]+e[o]&&(t[o]>e[o]?(t[o]=e[o],t[i]=e[i]):t[i]=e[i]+e[o]-t[o]),t[o]>e[o]&&(t[o]=e[o]),t[i]<e[i]&&(t[i]=e[i])}),t},mapZoom:function(t,e,o,i,r){this.mapView&&(p(t)&&(t=Math.log(t)/Math.log(.5)),this.mapView.zoomBy(t,p(e)&&p(o)?this.mapView.projection.inverse([e,o]):void 0,p(i)&&p(r)?[i,r]:void 0))}}),s(t,"beforeRender",function(){this.mapNavigation=new r(this),this.mapNavigation.update()}),e.MapNavigation=r}),e(t,"Maps/MapPointer.js",[t["Core/Pointer.js"],t["Core/Utilities.js"]],function(t,e){var o=e.defined,i=e.extend,r=e.pick;e=e.wrap;var n,s=t.prototype.normalize,a=0;i(t.prototype,{normalize:function(t,e){var o=this.chart;return t=s.call(this,t,e),o&&o.mapView&&(e=o.mapView.pixelsToLonLat({x:t.chartX-o.plotLeft,y:t.chartY-o.plotTop}))&&i(t,e),t},onContainerDblClick:function(t){var e=this.chart;t=this.normalize(t),e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(t.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(.5,void 0,void 0,t.chartX,t.chartY)},onContainerMouseWheel:function(t){var e=this.chart;t=this.normalize(t);var i=o(t.wheelDelta)&&-t.wheelDelta/120||t.deltaY||t.detail;1<=Math.abs(i)&&(a+=Math.abs(i),n&&clearTimeout(n),n=setTimeout(function(){a=0},50)),10>a&&e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapView&&e.mapView.zoomBy((e.options.mapNavigation.mouseWheelSensitivity-1)*-i,void 0,[t.chartX,t.chartY],!(1>Math.abs(i))&&void 0)}}),e(t.prototype,"zoomOption",function(t){var e=this.chart.options.mapNavigation;r(e.enableTouchZoom,e.enabled)&&(this.chart.options.chart.pinchType="xy"),t.apply(this,[].slice.call(arguments,1))}),e(t.prototype,"pinchTranslate",function(t,e,o,i,r,n,s){t.call(this,e,o,i,r,n,s),"map"===this.chart.options.chart.type&&this.hasZoom&&(t=i.scaleX>i.scaleY,this.pinchTranslateDirection(!t,e,o,i,r,n,s,t?i.scaleX:i.scaleY))})}),e(t,"Series/ColorMapMixin.js",[t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(t,e,o){var i=t.noop;t=t.seriesTypes;var r=o.defined;return(o=o.addEvent)(e,"afterSetState",function(t){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:t&&"hover"===t.state?1:0})}),{PointMixin:{dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&1/0!==this.value&&-1/0!==this.value}},SeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:i,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:t.column.prototype.pointAttribs,colorAttribs:function(t){var e={};return!r(t.color)||t.state&&"normal"!==t.state||(e[this.colorProp||"fill"]=t.color),e}}}}),e(t,"Maps/MapSymbols.js",[t["Core/Renderer/SVG/SVGRenderer.js"]],function(t){function e(t,e,o,i,r,n,s,a){return[["M",t+r,e],["L",t+o-n,e],["C",t+o-n/2,e,t+o,e+n/2,t+o,e+n],["L",t+o,e+i-s],["C",t+o,e+i-s/2,t+o-s/2,e+i,t+o-s,e+i],["L",t+a,e+i],["C",t+a/2,e+i,t,e+i-a/2,t,e+i-a],["L",t,e+r],["C",t,e+r/2,t+r/2,e,t+r,e],["Z"]]}return(t=t.prototype.symbols).bottombutton=function(t,o,i,r,n){return e(t-1,o-1,i,r,0,0,n=n&&n.r||0,n)},t.topbutton=function(t,o,i,r,n){return e(t-1,o-1,i,r,n=n&&n.r||0,n,0,0)},t}),e(t,"Core/Chart/MapChart.js",[t["Core/Chart/Chart.js"],t["Core/DefaultOptions.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,o,i){var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=e.getOptions,s=i.merge,a=i.pick;return function(t){t.maps={},t.mapChart=function(e,o,i){return new t(e,o,i)},t.splitPath=function(t){return"string"==typeof t&&(t=(t=t.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map(function(t){return/[A-za-z]/.test(t)?t:parseFloat(t)})),o.prototype.pathToSegments(t)}}((t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.init=function(e,o){var i=n().credits;e=s({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:a(i.mapText,' Â© <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:a(i.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},e),t.prototype.init.call(this,e,o)},e}(t))||(t={})),t}),e(t,"Maps/MapUtilities.js",[],function(){return{boundsFromPath:function(t){var e,o=-Number.MAX_VALUE,i=Number.MAX_VALUE,r=-Number.MAX_VALUE,n=Number.MAX_VALUE;if(t.forEach(function(t){var s=t[t.length-2];t=t[t.length-1],"number"==typeof s&&"number"==typeof t&&(i=Math.min(i,s),o=Math.max(o,s),n=Math.min(n,t),r=Math.max(r,t),e=!0)}),e)return{x1:i,y1:n,x2:o,y2:r}},pointInPolygon:function(t,e){var o,i=!1,r=t.x,n=t.y;for(t=0,o=e.length-1;t<e.length;o=t++){e[t][1]>n!==e[o][1]>n&&r<(e[o][0]-e[t][0])*(n-e[t][1])/(e[o][1]-e[t][1])+e[t][0]&&(i=!i)}return i}}}),e(t,"Series/Map/MapPoint.js",[t["Series/ColorMapMixin.js"],t["Maps/MapUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o,i){var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=e.boundsFromPath,s=i.extend,a=i.isNumber,p=i.pick;return e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=void 0,e.path=void 0,e.series=void 0,e}return r(e,t),e.getProjectedPath=function(t,e){return t.projectedPath||(e&&t.geometry?(e.hasCoordinates=!0,t.projectedPath=e.path(t.geometry)):t.projectedPath=t.path),t.projectedPath||[]},e.prototype.applyOptions=function(e,o){var i=this.series;return e=t.prototype.applyOptions.call(this,e,o),o=i.joinBy,i.mapData&&i.mapMap&&((i=void 0!==(o=t.prototype.getNestedProperty.call(e,o[1]))&&i.mapMap[o])?s(e,i):e.value=e.value||null),e},e.prototype.getProjectedBounds=function(t){t=e.getProjectedPath(this,t),t=n(t);var o=this.properties;if(t){var i=o&&o["hc-middle-x"];return o=o&&o["hc-middle-y"],t.midX=t.x1+(t.x2-t.x1)*p(this.middleX,a(i)?i:.5),i=p(this.middleY,a(o)?o:.5),this.geometry||(i=1-i),t.midY=t.y2-(t.y2-t.y1)*i,t}},e.prototype.onMouseOver=function(e){i.clearTimeout(this.colorInterval),null!==this.value||this.series.options.nullInteraction?t.prototype.onMouseOver.call(this,e):this.series.onMouseOut(e)},e.prototype.zoomTo=function(){var t=this.series.chart;t.mapView&&this.bounds&&(t.mapView.fitToBounds(this.bounds,void 0,!1),this.series.isDirty=!0,t.redraw())},e}(o.seriesTypes.scatter.prototype.pointClass),s(e.prototype,{dataLabelOnNull:t.PointMixin.dataLabelOnNull,isValid:t.PointMixin.isValid,moveToTopOnHover:t.PointMixin.moveToTopOnHover}),e}),e(t,"Maps/MapViewOptionsDefault.js",[],function(){return{center:[0,0],maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0}}),e(t,"Maps/MapViewInsetsOptionsDefault.js",[],function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}}),e(t,"Extensions/GeoJSON.js",[t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Maps/MapUtilities.js"],t["Core/Utilities.js"]],function(t,e,o,i,r){function n(t,e){if(e||(e=Object.keys(t.objects)[0]),(e=t.objects[e])["hc-decoded-geojson"])return e["hc-decoded-geojson"];var o=t.arcs;if(t.transform){var i=t.transform,r=i.scale,n=i.translate;o=t.arcs.map(function(t){var e=0,o=0;return t.map(function(t){return(t=t.slice())[0]=(e+=t[0])*r[0]+n[0],t[1]=(o+=t[1])*r[1]+n[1],t})})}var s=function(t){return"number"==typeof t[0]?t.reduce(function(t,e,i){var r=0>e?o[~e]:o[e];return 0>e?(r=r.slice(0,0===i?r.length:r.length-1)).reverse():i&&(r=r.slice(1)),t.concat(r)},[]):t.map(s)};return i=e.geometries.map(function(t){return{type:"Feature",properties:t.properties,geometry:{type:t.type,coordinates:t.coordinates||s(t.arcs)}}}),t={type:"FeatureCollection",copyright:t.copyright,copyrightShort:t.copyrightShort,copyrightUrl:t.copyrightUrl,features:i,"hc-recommended-mapview":e["hc-recommended-mapview"],bbox:t.bbox},e["hc-decoded-geojson"]=t}function s(t,e,o){void 0===e&&(e="map");var i=[];return(t="Topology"===t.type?n(t):t).features.forEach(function(t){var o,r=t.geometry||{},n=r.type;r=r.coordinates,t=t.properties,("map"!==e&&"mapbubble"!==e||"Polygon"!==n&&"MultiPolygon"!==n)&&("mapline"!==e||"LineString"!==n&&"MultiLineString"!==n)?"mappoint"===e&&"Point"===n&&r.length&&(o={geometry:{coordinates:r,type:n}}):r.length&&(o={geometry:{coordinates:r,type:n}}),o&&(n=t&&(t.name||t.NAME),i.push(h(o,{name:"string"==typeof n?n:void 0,properties:t})))}),o&&t.copyrightShort&&(o.chart.mapCredits=a(o.chart.options.credits.mapText,{geojson:t}),o.chart.mapCreditsFull=a(o.chart.options.credits.mapTextFull,{geojson:t})),i}var a=e.format,p=o.win,l=r.error,h=r.extend,c=r.merge;return e=r.wrap,t.prototype.transformFromLatLon=function(t,e){var o=this.options.chart.proj4||p.proj4;if(o){var i=e.jsonmarginX;i=void 0===i?0:i;var r=e.jsonmarginY;r=void 0===r?0:r;var n=e.jsonres;n=void 0===n?1:n;var s=e.scale;s=void 0===s?1:s;var a=e.xoffset;a=void 0===a?0:a;var h=e.xpan;h=void 0===h?0:h;var c=e.yoffset;c=void 0===c?0:c;var u=e.ypan;u=void 0===u?0:u,t=o(e.crs,[t.lon,t.lat]),o=e.cosAngle||e.rotation&&Math.cos(e.rotation);var d=e.sinAngle||e.rotation&&Math.sin(e.rotation);return{x:(((e=e.rotation?[t[0]*o+t[1]*d,-t[0]*d+t[1]*o]:t)[0]-a)*s+h)*n+i,y:-(((c-e[1])*s+u)*n-r)}}l(21,!1,this)},t.prototype.transformToLatLon=function(t,e){if(this.options.chart.proj4||p.proj4){if(null!==t.y){var o=e.jsonmarginX,i=e.jsonmarginY,r=e.jsonres;r=void 0===r?1:r;var n=e.scale;n=void 0===n?1:n;var s=e.xoffset,a=e.xpan,h=e.yoffset,c=e.ypan;return t={x:((t.x-(void 0===o?0:o))/r-(void 0===a?0:a))/n+(void 0===s?0:s),y:((t.y-(void 0===i?0:i))/r+(void 0===c?0:c))/n+(void 0===h?0:h)},o=e.cosAngle||e.rotation&&Math.cos(e.rotation),i=e.sinAngle||e.rotation&&Math.sin(e.rotation),{lat:(e=p.proj4(e.crs,"WGS84",e.rotation?{x:t.x*o+t.y*-i,y:t.x*i+t.y*o}:t)).y,lon:e.x}}}else l(21,!1,this)},t.prototype.fromPointToLatLon=function(t){return this.mapView&&this.mapView.projectedUnitsToLonLat(t)},t.prototype.fromLatLonToPoint=function(t){return this.mapView&&this.mapView.lonLatToProjectedUnits(t)},e(t.prototype,"addCredits",function(t,e){e=c(!0,this.options.credits,e),this.mapCredits&&(e.href=null),t.call(this,e),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})}),o.geojson=s,{geojson:s,topo2geo:n}}),e(t,"Core/Geometry/PolygonClip.js",[],function(){var t,e,o=function(t,e,o){return(e[0]-t[0])*(o[1]-t[1])>(e[1]-t[1])*(o[0]-t[0])},i=function(t,e,o,i){var r=[t[0]-e[0],t[1]-e[1]],n=[o[0]-i[0],o[1]-i[1]];return t=t[0]*e[1]-t[1]*e[0],o=o[0]*i[1]-o[1]*i[0],i=1/(r[0]*n[1]-r[1]*n[0]),(r=[(t*n[0]-o*r[0])*i,(t*n[1]-o*r[1])*i]).isIntersection=!0,r};return(e=t||(t={})).clipLineString=function(t,o){var i=[];for(t=e.clipPolygon(t,o,!1),o=1;o<t.length;o++)t[o].isIntersection&&t[o-1].isIntersection&&(i.push(t.splice(0,o)),o=0),o===t.length-1&&i.push(t);return i},e.clipPolygon=function(t,e,r){void 0===r&&(r=!0);for(var n,s,a=e[e.length-1],p=t,l=0;l<e.length;l++){var h=p;t=e[l],p=[],n=r?h[h.length-1]:h[0];for(var c=0;c<h.length;c++)s=h[c],o(a,t,s)?(o(a,t,n)||p.push(i(a,t,n,s)),p.push(s)):o(a,t,n)&&p.push(i(a,t,n,s)),n=s;a=t}return p},t}),e(t,"Maps/Projections/LambertConformalConic.js",[],function(){var t=Math.sign||function(t){return 0===t?0:0<t?1:-1},e=Math.PI/180,o=Math.PI/2;return function(){function i(i){var r,n=(i.parallels||[]).map(function(t){return t*e}),s=n[0]||0;n=null!==(r=n[1])&&void 0!==r?r:s,r=Math.cos(s),"object"==typeof i.projectedBounds&&(this.projectedBounds=i.projectedBounds),i=s===n?Math.sin(s):Math.log(r/Math.cos(n))/Math.log(Math.tan((o+n)/2)/Math.tan((o+s)/2)),1e-10>Math.abs(i)&&(i=1e-10*(t(i)||1)),this.n=i,this.c=r*Math.pow(Math.tan((o+s)/2),i)/i}return i.prototype.forward=function(t){var i=t[0]*e,r=this.c,n=this.n,s=this.projectedBounds;t=t[1]*e,0<r?t<1e-6-o&&(t=1e-6-o):t>o-1e-6&&(t=o-1e-6);var a=r/Math.pow(Math.tan((o+t)/2),n);return r=[t=a*Math.sin(n*i)*63.78137,i=63.78137*(r-a*Math.cos(n*i))],s&&(t<s.x1||t>s.x2||i<s.y1||i>s.y2)&&(r.outside=!0),r},i.prototype.inverse=function(i){var r=i[0]/63.78137,n=this.c,s=this.n;i=n-i[1]/63.78137;var a=t(s)*Math.sqrt(r*r+i*i),p=Math.atan2(r,Math.abs(i))*t(i);return 0>i*s&&(p-=Math.PI*t(r)*t(i)),[p/s/e,(2*Math.atan(Math.pow(n/a,1/s))-o)/e]},i}()}),e(t,"Maps/Projections/EqualEarth.js",[],function(){var t=Math.sqrt(3)/2;return function(){function e(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}return e.prototype.forward=function(e){var o=Math.PI/180,i=Math.asin(t*Math.sin(e[1]*o)),r=i*i,n=r*r*r;return[e[0]*o*Math.cos(i)*74.03120656864502/(t*(1.340264+3*-.081106*r+n*(7*893e-6+.034164*r))),74.03120656864502*i*(1.340264+-.081106*r+n*(893e-6+.003796*r))]},e.prototype.inverse=function(e){var o=e[0]/74.03120656864502;e=e[1]/74.03120656864502;var i,r=180/Math.PI,n=e;for(i=0;12>i;++i){var s=n*n,a=s*s*s,p=n*(1.340264+-.081106*s+a*(893e-6+.003796*s))-e;if(n-=p/=s=1.340264+3*-.081106*s+a*(7*893e-6+.034164*s),1e-9>Math.abs(p))break}return[r*t*o*(1.340264+3*-.081106*(s=n*n)+s*s*s*(7*893e-6+.034164*s))/Math.cos(n),r*Math.asin(Math.sin(n)/t)]},e}()}),e(t,"Maps/Projections/Miller.js",[],function(){var t=Math.PI/4,e=Math.PI/180;return function(){function o(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}return o.prototype.forward=function(o){return[o[0]*e*63.78137,79.7267125*Math.log(Math.tan(t+.4*o[1]*e))]},o.prototype.inverse=function(o){return[o[0]/63.78137/e,2.5*(Math.atan(Math.exp(o[1]/63.78137*.8))-t)/e]},o}()}),e(t,"Maps/Projections/Orthographic.js",[],function(){var t=Math.PI/180;return function(){function e(){this.antimeridianCutting=!1,this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}return e.prototype.forward=function(e){var o=e[0];return e=e[1]*t,e=[Math.cos(e)*Math.sin(o*t)*63.78460826781007,63.78460826781007*Math.sin(e)],(-90>o||90<o)&&(e.outside=!0),e},e.prototype.inverse=function(e){var o=e[0]/63.78460826781007;e=e[1]/63.78460826781007;var i=Math.sqrt(o*o+e*e),r=Math.asin(i),n=Math.sin(r);return[Math.atan2(o*n,i*Math.cos(r))/t,Math.asin(i&&e*n/i)/t]},e}()}),e(t,"Maps/Projections/WebMercator.js",[],function(){var t=Math.PI/180;return function(){function e(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071},this.maxLatitude=85.0511287798}return e.prototype.forward=function(e){var o=Math.sin(e[1]*t);return o=[63.78137*e[0]*t,63.78137*Math.log((1+o)/(1-o))/2],85.0511287798<Math.abs(e[1])&&(o.outside=!0),o},e.prototype.inverse=function(e){return[e[0]/(63.78137*t),(2*Math.atan(Math.exp(e[1]/63.78137))-Math.PI/2)/t]},e}()}),e(t,"Maps/Projections/ProjectionRegistry.js",[t["Maps/Projections/LambertConformalConic.js"],t["Maps/Projections/EqualEarth.js"],t["Maps/Projections/Miller.js"],t["Maps/Projections/Orthographic.js"],t["Maps/Projections/WebMercator.js"]],function(t,e,o,i,r){return{EqualEarth:e,LambertConformalConic:t,Miller:o,Orthographic:i,WebMercator:r}}),e(t,"Maps/Projection.js",[t["Core/Geometry/PolygonClip.js"],t["Maps/Projections/ProjectionRegistry.js"],t["Core/Utilities.js"]],function(t,e,o){var i=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;t=Array(t);var i=0;for(e=0;e<o;e++)for(var r=arguments[e],n=0,s=r.length;n<s;n++,i++)t[i]=r[n];return t},r=t.clipLineString,n=t.clipPolygon,s=o.clamp,a=o.erase,p=2*Math.PI/360,l=function(t){return-180>t&&(t+=360),180<t&&(t-=360),t};return function(){function t(e){void 0===e&&(e={}),this.hasGeoProjection=this.hasCoordinates=!1,this.maxLatitude=90,this.options=e;var o=e.name,i=e.projectedBounds,r=e.rotation;this.rotator=r?this.getRotator(r):void 0,(o=o?t.registry[o]:void 0)&&(this.def=new o(e));var n=this.def,s=this.rotator;n&&(this.maxLatitude=n.maxLatitude||90,this.hasGeoProjection=!0),s&&n?(this.forward=function(t){return n.forward(s.forward(t))},this.inverse=function(t){return s.inverse(n.inverse(t))}):n?(this.forward=function(t){return n.forward(t)},this.inverse=function(t){return n.inverse(t)}):s&&(this.forward=s.forward,this.inverse=s.inverse),this.bounds="world"===i?n&&n.bounds:i}return t.add=function(e,o){t.registry[e]=o},t.greatCircle=function(t,e,o){var i=Math.atan2,r=Math.cos,n=Math.sin,s=Math.sqrt,a=t[1]*p,l=t[0]*p,h=e[1]*p,c=e[0]*p,u=h-a,d=c-l;u=2*i(s(u=n(u/2)*n(u/2)+r(a)*r(h)*n(d/2)*n(d/2)),s(1-u));var f=Math.round(6371e3*u/5e5);if(d=[],o&&d.push(t),1<f)for(f=t=1/f;.999>f;f+=t){var y=n((1-f)*u)/n(u),g=n(f*u)/n(u),m=y*r(a)*r(l)+g*r(h)*r(c),v=y*r(a)*n(l)+g*r(h)*n(c);y=i(y=y*n(a)+g*n(h),s(m*m+v*v)),m=i(v,m),d.push([m/p,y/p])}return o&&d.push(e),d},t.insertGreatCircles=function(e){for(var o=e.length-1;o--;)if(10<Math.max(Math.abs(e[o][0]-e[o+1][0]),Math.abs(e[o][1]-e[o+1][1]))){var r=t.greatCircle(e[o],e[o+1]);r.length&&e.splice.apply(e,i([o+1,0],r))}},t.toString=function(t){var e=(t=t||{}).rotation;return[t.name,e&&e.join(",")].join(";")},t.prototype.lineIntersectsBounds=function(t){var e=this.bounds||{},o=e.x2,i=e.y1,r=e.y2,n=function(t,e,o){var i=t[0];t=t[1];var r=e?0:1;if("number"==typeof o&&i[e]>=o!=t[e]>=o)return i=i[r]+(o-i[e])/(t[e]-i[e])*(t[r]-i[r]),e?[i,o]:[o,i]},s=t[0];return(e=n(t,0,e.x1))?(s=e,t[1]=e):(e=n(t,0,o))&&(s=e,t[1]=e),(e=n(t,1,i))?s=e:(e=n(t,1,r))&&(s=e),s},t.prototype.getRotator=function(t){var e=t[0]*p,o=(t[1]||0)*p;t=(t[2]||0)*p;var i=Math.cos(o),r=Math.sin(o),n=Math.cos(t),s=Math.sin(t);if(0!==e||0!==o||0!==t)return{forward:function(t){var o=t[0]*p+e,a=t[1]*p,l=Math.cos(a);return t=Math.cos(o)*l,o=Math.sin(o)*l,l=(a=Math.sin(a))*i+t*r,[Math.atan2(o*n-l*s,t*i-a*r)/p,Math.asin(l*n+o*s)/p]},inverse:function(t){var o=t[0]*p,a=t[1]*p,l=Math.cos(a);return t=Math.cos(o)*l,o=Math.sin(o)*l,l=(a=Math.sin(a))*n-o*s,[(Math.atan2(o*n+a*s,t*i+l*r)-e)/p,Math.asin(l*i-t*r)/p]}}},t.prototype.forward=function(t){return t},t.prototype.inverse=function(t){return t},t.prototype.cutOnAntimeridian=function(e,o){var r=[],n=[e];if(e.forEach(function(t,i){var n=e[i-1];if(!i){if(!o)return;n=e[e.length-1]}var a=n[0],p=t[0];(-90>a||90<a)&&(-90>p||90<p)&&0<a!=0<p&&(p=s((180-(a+360)%360)/((p+360)%360-(a+360)%360),0,1),r.push({i:i,lat:n[1]+p*(t[1]-n[1]),direction:0>a?1:-1,previousLonLat:n,lonLat:t}))}),r.length)if(o){if(1==r.length%2){var p=r.slice().sort(function(t,e){return Math.abs(e.lat)-Math.abs(t.lat)})[0];a(r,p)}for(var h=r.length-2;0<=h;){var c=r[h].i,u=l(180+1e-6*r[h].direction),d=l(180-1e-6*r[h].direction);(c=e.splice.apply(e,i([c,r[h+1].i-c],t.greatCircle([u,r[h].lat],[u,r[h+1].lat],!0)))).push.apply(c,t.greatCircle([d,r[h+1].lat],[d,r[h].lat],!0)),n.push(c),h-=2}if(p)for(u=0;u<n.length;u++){h=p.direction;var f=p.lat;if(-1<(c=(d=n[u]).indexOf(p.lonLat))){u=(0>f?-1:1)*this.maxLatitude;var y=l(180+1e-6*h),g=l(180-1e-6*h);for(f=t.greatCircle([y,f],[y,u],!0),y+=120*h;-180<y&&180>y;y+=120*h)f.push([y,u]);f.push.apply(f,t.greatCircle([g,u],[g,p.lat],!0)),d.splice.apply(d,i([c,0],f));break}}}else for(h=r.length;h--;)c=r[h].i,(c=e.splice(c,e.length,[l(180+1e-6*r[h].direction),r[h].lat])).unshift([l(180-1e-6*r[h].direction),r[h].lat]),n.push(c);return n},t.prototype.path=function(e){var o,i=this,s=this.bounds,a=this.def,p=this.rotator,l=[],h="Polygon"===e.type||"MultiPolygon"===e.type,c=this.hasGeoProjection,u=!a||!1!==a.antimeridianCutting,d=u?p:void 0,f=u&&a||this;s&&(o=[[s.x1,s.y1],[s.x2,s.y1],[s.x2,s.y2],[s.x1,s.y2]]);var y=function(e){var a=[e=e.map(function(t){if(u){d&&(t=d.forward(t));var e=t[0];1e-6>Math.abs(e-180)&&(e=180>e?179.999999:180.000001),t=[e,t[1]]}return t})];c&&(t.insertGreatCircles(e),u&&(a=i.cutOnAntimeridian(e,h))),a.forEach(function(e){if(!(2>e.length)){var i=!1,a=!1,p=function(t){i?l.push(["L",t[0],t[1]]):(l.push(["M",t[0],t[1]]),i=!0)},d=!1,y=!1,g=e.map(function(t){return(t=f.forward(t)).outside?d=!0:y=!0,1/0===t[1]?t[1]=1e10:-1/0===t[1]&&(t[1]=-1e10),t});if(u){if(h&&g.push(g[0]),d){if(!y)return;if(o)if(h)g=n(g,o);else if(s)return void r(g,o).forEach(function(t){i=!1,t.forEach(p)})}g.forEach(p)}else for(var m=0;m<g.length;m++){var v=e[m],b=g[m];if(b.outside)a=!0;else{if(h&&!x){var x=v;e.push(v),g.push(b)}a&&M&&(h&&c?t.greatCircle(M,v).forEach(function(t){return p(f.forward(t))}):i=!1),p(b);var M=v;a=!1}}}})};return"LineString"===e.type?y(e.coordinates):"MultiLineString"===e.type?e.coordinates.forEach(function(t){return y(t)}):"Polygon"===e.type?(e.coordinates.forEach(function(t){return y(t)}),l.length&&l.push(["Z"])):"MultiPolygon"===e.type&&(e.coordinates.forEach(function(t){t.forEach(function(t){return y(t)})}),l.length&&l.push(["Z"])),l},t.registry=e,t}()}),e(t,"Maps/MapView.js",[t["Maps/MapViewOptionsDefault.js"],t["Maps/MapViewInsetsOptionsDefault.js"],t["Extensions/GeoJSON.js"],t["Core/Chart/MapChart.js"],t["Maps/MapUtilities.js"],t["Maps/Projection.js"],t["Core/Utilities.js"]],function(t,e,o,i,r,n,s){var a=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),p=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;t=Array(t);var i=0;for(e=0;e<o;e++)for(var r=arguments[e],n=0,s=r.length;n<s;n++,i++)t[i]=r[n];return t},l=o.topo2geo,h=i.maps,c=r.boundsFromPath,u=r.pointInPolygon,d=s.addEvent,f=s.clamp,y=s.fireEvent,g=s.isArray,m=s.isNumber,v=s.isObject,b=s.isString,x=s.merge,M=s.pick,j=s.relativeLength,C=function(t,e){return Math.log(400.979322/Math.max((t.x2-t.x1)/(e.width/256),(t.y2-t.y1)/(e.height/256)))/Math.log(2)},w=function(){function e(o,i){var r,s=this;if(this.insets=[],this.padding=[0,0,0,0],this.eventsToUnbind=[],!(this instanceof P)){var a=p([o.options.chart.map],(o.options.series||[]).map(function(t){return t.mapData})).map(function(t){return s.getGeoMap(t)}),l=[];a.forEach(function(t){t&&(r||(r=t["hc-recommended-mapview"]),t.bbox&&(t=t.bbox,l.push({x1:t[0],y1:t[1],x2:t[2],y2:t[3]})))});var h=l.length&&e.compositeBounds(l);if(h){var c=h.x1,u=h.y1,f=h.x2;h=h.y2,c=180<f-c&&90<h-u?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[u,h],rotation:[-(c+f)/2]}}this.geoMap=a[0]}this.userOptions=i||{},a=x(t,{projection:c},r,i),h=r&&r.insets,i=i&&i.insets,h&&i&&(a.insets=e.mergeInsets(h,i)),this.chart=o,this.center=a.center,this.options=a,this.projection=new n(a.projection),this.playingField=o.plotBox,this.zoom=a.zoom||0,this.createInsets(),this.eventsToUnbind.push(d(o,"afterSetChartSize",function(){s.playingField=s.getField(),void 0!==s.minZoom&&s.minZoom!==s.zoom||(s.fitToBounds(void 0,void 0,!1),m(s.userOptions.zoom)&&(s.zoom=s.userOptions.zoom),s.userOptions.center&&x(!0,s.center,s.userOptions.center))})),this.setUpEvents()}return e.mergeInsets=function(t,e){var o=function(t){var e={};return t.forEach(function(t,o){e[t&&t.id||"i"+o]=t}),e},i=x(o(t),o(e));return Object.keys(i).map(function(t){return i[t]})},e.prototype.createInsets=function(){var t=this,e=this.options,o=e.insets;o&&o.forEach(function(o){o=new P(t,x(e.insetOptions,o)),t.insets.push(o)})},e.prototype.fitToBounds=function(t,e,o,i){void 0===o&&(o=!0);var r=t||this.getProjectedBounds();if(r){var n=M(e,t?0:this.options.padding);e=this.getField(!1),n=g(n)?n:[n,n,n,n],this.padding=[j(n[0],e.height),j(n[1],e.width),j(n[2],e.height),j(n[3],e.width)],this.playingField=this.getField(),e=C(r,this.playingField),t||(this.minZoom=e),t=this.projection.inverse([(r.x2+r.x1)/2,(r.y2+r.y1)/2]),this.setView(t,e,o,i)}},e.prototype.getField=function(t){return void 0===t&&(t=!0),{x:(t=t?this.padding:[0,0,0,0])[3],y:t[0],width:this.chart.plotWidth-t[1]-t[3],height:this.chart.plotHeight-t[0]-t[2]}},e.prototype.getGeoMap=function(t){if(b(t))return h[t];if(v(t,!0)){if("FeatureCollection"===t.type)return t;if("Topology"===t.type)return l(t)}},e.prototype.getMapBBox=function(){var t=this.getProjectedBounds(),e=this.getScale();if(t){var o=this.padding,i=this.projectedUnitsToPixels({x:t.x1,y:t.y2});return{width:(t.x2-t.x1)*e+o[1]+o[3],height:(t.y2-t.y1)*e+o[0]+o[2],x:i.x-o[3],y:i.y-o[0]}}},e.prototype.getProjectedBounds=function(){var t=this.chart.series.reduce(function(t,e){var o=e.getProjectedBounds&&e.getProjectedBounds();return o&&!1!==e.options.affectsMapView&&t.push(o),t},[]);return this.projection.bounds||e.compositeBounds(t)},e.prototype.getScale=function(){return 256/400.979322*Math.pow(2,this.zoom)},e.prototype.getSVGTransform=function(){var t=this.playingField,e=t.x,o=t.y,i=t.width;t=t.height;var r=this.projection.forward(this.center),n=this.projection.hasCoordinates?-1:1,s=this.getScale();return{scaleX:s,scaleY:n*=s,translateX:e+i/2-r[0]*s,translateY:o+t/2-r[1]*n}},e.prototype.lonLatToPixels=function(t){if(t=this.lonLatToProjectedUnits(t))return this.projectedUnitsToPixels(t)},e.prototype.lonLatToProjectedUnits=function(t){var e=this.chart,o=e.mapTransforms;if(o){for(var i in o)if(Object.hasOwnProperty.call(o,i)&&o[i].hitZone){var r=e.transformFromLatLon(t,o[i]);if(r&&u(r,o[i].hitZone.coordinates[0]))return r}return e.transformFromLatLon(t,o.default)}for(o=0,i=this.insets;o<i.length;o++)if((e=i[o]).options.geoBounds&&u({x:t.lon,y:t.lat},e.options.geoBounds.coordinates[0]))return t=e.projection.forward([t.lon,t.lat]),t=e.projectedUnitsToPixels({x:t[0],y:t[1]}),this.pixelsToProjectedUnits(t);if(!(t=this.projection.forward([t.lon,t.lat])).outside)return{x:t[0],y:t[1]}},e.prototype.projectedUnitsToLonLat=function(t){var e=this.chart,o=e.mapTransforms;if(o){for(var i in o)if(Object.hasOwnProperty.call(o,i)&&o[i].hitZone&&u(t,o[i].hitZone.coordinates[0]))return e.transformToLatLon(t,o[i]);return e.transformToLatLon(t,o.default)}o=this.projectedUnitsToPixels(t),i=0;for(var r=this.insets;i<r.length;i++)if((e=r[i]).hitZone&&u(o,e.hitZone.coordinates[0]))return t=e.pixelsToProjectedUnits(o),{lon:(t=e.projection.inverse([t.x,t.y]))[0],lat:t[1]};return{lon:(t=this.projection.inverse([t.x,t.y]))[0],lat:t[1]}},e.prototype.redraw=function(t){this.chart.series.forEach(function(t){t.useMapGeometry&&(t.isDirty=!0)}),this.chart.redraw(t)},e.prototype.setView=function(t,e,o,i){void 0===o&&(o=!0),t&&(this.center=t),"number"==typeof e&&("number"==typeof this.minZoom&&(e=Math.max(e,this.minZoom)),"number"==typeof this.options.maxZoom&&(e=Math.min(e,this.options.maxZoom)),this.zoom=e);var r=this.getProjectedBounds();if(r){t=this.projection.forward(this.center);var n=this.playingField;e=n.x;var s=n.y,a=n.width;n=n.height;var p=this.getScale(),l=this.projectedUnitsToPixels({x:r.x1,y:r.y1}),h=this.projectedUnitsToPixels({x:r.x2,y:r.y2});r=[(r.x1+r.x2)/2,(r.y1+r.y2)/2];var c=l.x,u=h.y;h=h.x,l=l.y,h-c<a?t[0]=r[0]:c<e&&h<e+a?t[0]+=Math.max(c-e,h-a-e)/p:h>e+a&&c>e&&(t[0]+=Math.min(h-a-e,c-e)/p),l-u<n?t[1]=r[1]:u<s&&l<s+n?t[1]-=Math.max(u-s,l-n-s)/p:l>s+n&&u>s&&(t[1]-=Math.min(l-n-s,u-s)/p),this.center=this.projection.inverse(t),this.insets.forEach(function(t){t.options.field&&(t.hitZone=t.getHitZone(),t.playingField=t.getField())}),this.render()}y(this,"afterSetView"),o&&this.redraw(i)},e.prototype.projectedUnitsToPixels=function(t){var e=this.getScale(),o=this.projection.forward(this.center),i=this.playingField;return{x:i.x+i.width/2-e*(o[0]-t.x),y:i.y+i.height/2+e*(o[1]-t.y)}},e.prototype.pixelsToLonLat=function(t){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(t))},e.prototype.pixelsToProjectedUnits=function(t){var e=t.x;t=t.y;var o=this.getScale(),i=this.projection.forward(this.center),r=this.playingField;return{x:i[0]+(e-(r.x+r.width/2))/o,y:i[1]-(t-(r.y+r.height/2))/o}},e.prototype.setUpEvents=function(){var t,e,o,i=this,r=this.chart,n=function(n){var s=r.pointer.pinchDown,a=i.projection,p=r.mouseDownX,l=r.mouseDownY;if(1===s.length&&(p=s[0].chartX,l=s[0].chartY),"number"==typeof p&&"number"==typeof l){var h=p+","+l,c=n.originalEvent;s=c.chartX,c=c.chartY,h!==e&&(e=h,t=i.projection.forward(i.center),o=(i.projection.options.rotation||[0,0]).slice()),h=(h=a.def&&a.def.bounds)&&C(h,i.playingField)||-1/0,"Orthographic"===a.options.name&&(i.minZoom||1/0)<1.1*h?(a=440/(i.getScale()*Math.min(r.plotWidth,r.plotHeight)),o&&(p=(p-s)*a-o[0],l=f(-o[1]-(l-c)*a,-80,80),s=i.zoom,i.update({projection:{rotation:[-p,-l]}},!1),i.zoom=s,r.redraw(!1))):(a=i.getScale(),l=i.projection.inverse([t[0]+(p-s)/a,t[1]-(l-c)/a]),i.setView(l,void 0,!0,!1)),n.preventDefault()}};d(r,"pan",n),d(r,"touchpan",n),d(r,"selection",function(t){if(t.resetSelection)i.zoomBy();else{var e=t.x-r.plotLeft,o=t.y-r.plotTop,n=i.pixelsToProjectedUnits({x:e,y:o}),s=n.y;n=n.x,e=i.pixelsToProjectedUnits({x:e+t.width,y:o+t.height}),i.fitToBounds({x1:n,y1:s,x2:e.x,y2:e.y},void 0,!0,!t.originalEvent.touches&&void 0),/^touch/.test(t.originalEvent.type)||r.showResetZoom(),t.preventDefault()}})},e.prototype.render=function(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())},e.prototype.update=function(t,e,o){void 0===e&&(e=!0);var i=t.projection;i=i&&n.toString(i)!==n.toString(this.options.projection);var r=!1;x(!0,this.userOptions,t),x(!0,this.options,t),"insets"in t&&(this.insets.forEach(function(t){return t.destroy()}),this.insets.length=0,r=!0),(i||r)&&(this.chart.series.forEach(function(t){var e=t.transformGroups;if(t.clearBounds&&t.clearBounds(),t.isDirty=!0,t.isDirtyData=!0,r&&e)for(;1<e.length;)(t=e.pop())&&t.destroy()}),i&&(this.projection=new n(this.options.projection)),r&&this.createInsets(),t.center||m(t.zoom)||this.fitToBounds(void 0,void 0,!1)),(t.center||m(t.zoom))&&this.setView(this.options.center,t.zoom,!1),e&&this.chart.redraw(o)},e.prototype.zoomBy=function(t,e,o,i){var r=this.chart,n=this.projection.forward(this.center),s=(e=e?this.projection.forward(e):[])[0],a=e[1];"number"==typeof t?(t=this.zoom+t,e=void 0,o&&(s=o[0],a=o[1],o=this.getScale(),s=s-r.plotLeft-r.plotWidth/2,r=a-r.plotTop-r.plotHeight/2,s=n[0]+s/o,a=n[1]+r/o),"number"==typeof s&&"number"==typeof a&&(o=1-Math.pow(2,this.zoom)/Math.pow(2,t),s=n[0]-s,r=n[1]-a,n[0]-=s*o,n[1]+=r*o,e=this.projection.inverse(n)),this.setView(e,t,void 0,i)):this.fitToBounds(void 0,void 0,void 0,i)},e.compositeBounds=function(t){if(t.length)return t.slice(1).reduce(function(t,e){return t.x1=Math.min(t.x1,e.x1),t.y1=Math.min(t.y1,e.y1),t.x2=Math.max(t.x2,e.x2),t.y2=Math.max(t.y2,e.y2),t},x(t[0]))},e}(),P=function(t){function o(o,i){var r=t.call(this,o.chart,i)||this;return r.id=i.id,r.mapView=o,r.options=x(e,i),r.allBounds=[],r.options.geoBounds&&(o=o.projection.path(r.options.geoBounds),r.geoBoundsProjectedBox=c(o),r.geoBoundsProjectedPolygon=o.map(function(t){return[t[1]||0,t[2]||0]})),r}return a(o,t),o.prototype.getField=function(e){void 0===e&&(e=!0);var o=this.hitZone;if(o){var i=e?this.padding:[0,0,0,0],r=(o=o.coordinates[0]).map(function(t){return t[0]}),n=o.map(function(t){return t[1]});o=Math.min.apply(0,r)+i[3],r=Math.max.apply(0,r)-i[1];var s=Math.min.apply(0,n)+i[0];if(i=Math.max.apply(0,n)-i[2],m(o)&&m(s))return{x:o,y:s,width:r-o,height:i-s}}return t.prototype.getField.call(this,e)},o.prototype.getHitZone=function(){var t=this.chart,e=this.mapView,o=this.options,i=(o.field||{}).coordinates;if(i){if(i=i[0],"percent"===o.units){var r="mapBoundingBox"===o.relativeTo&&e.getMapBBox()||x(t.plotBox,{x:0,y:0});i=i.map(function(t){return[j(t[0]+"%",r.width,r.x),j(t[1]+"%",r.height,r.y)]})}return{type:"Polygon",coordinates:[i]}}},o.prototype.getProjectedBounds=function(){return w.compositeBounds(this.allBounds)},o.prototype.isInside=function(t){var e=this.geoBoundsProjectedBox,o=this.geoBoundsProjectedPolygon;return!!(e&&t.x>=e.x1&&t.x<=e.x2&&t.y>=e.y1&&t.y<=e.y2&&o&&u(t,o))},o.prototype.render=function(){var t=this.chart,e=this.mapView,o=this.options,i=o.borderPath||o.field;if(i&&e.group){var r=!0;this.border||(this.border=t.renderer.path().addClass("highcharts-mapview-inset-border").add(e.group),r=!1),t.styledMode||this.border.attr({stroke:o.borderColor,"stroke-width":o.borderWidth});var n=Math.round(this.border.strokeWidth())%2/2,s="mapBoundingBox"===o.relativeTo&&e.getMapBBox()||e.playingField;e=(i.coordinates||[]).reduce(function(e,i){return i.reduce(function(e,i,r){var a=i[0];return i=i[1],"percent"===o.units&&(a=t.plotLeft+j(a+"%",s.width,s.x),i=t.plotTop+j(i+"%",s.height,s.y)),a=Math.floor(a)+n,i=Math.floor(i)+n,e.push(0===r?["M",a,i]:["L",a,i]),e},e)},[]),this.border[r?"animate":"attr"]({d:e})}},o.prototype.destroy=function(){this.border&&(this.border=this.border.destroy()),this.eventsToUnbind.forEach(function(t){return t()})},o.prototype.setUpEvents=function(){},o}(w);return d(i,"afterInit",function(){this.mapView=new w(this,this.options.mapView)}),w}),e(t,"Series/Map/MapSeries.js",[t["Core/Animation/AnimationUtilities.js"],t["Series/ColorMapMixin.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Chart/MapChart.js"],t["Series/Map/MapPoint.js"],t["Maps/MapView.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,o,i,r,n,s,a,p,l,h,c){var u=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),d=t.animObject;t=i.noop;var f=n.splitPath,y=(n=l.seriesTypes).column,g=n.scatter;n=c.extend;var m=c.find,v=c.fireEvent,b=c.getNestedProperty,x=c.isArray,M=c.isNumber,j=c.isObject,C=c.merge,w=c.objectEach,P=c.pick,S=c.splat;return c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chart=void 0,e.data=void 0,e.group=void 0,e.joinBy=void 0,e.options=void 0,e.points=void 0,e.processedData=[],e}return u(e,t),e.prototype.animate=function(t){var e=this.chart,o=this.group,i=d(this.options.animation);e.renderer.isSVG&&(t?o.attr({translateX:e.plotLeft+e.plotWidth/2,translateY:e.plotTop+e.plotHeight/2,scaleX:.001,scaleY:.001}):o.animate({translateX:e.plotLeft,translateY:e.plotTop,scaleX:1,scaleY:1},i))},e.prototype.animateDrilldown=function(t){var e=this.chart,o=this.group;e.renderer.isSVG&&(t?o.attr({translateX:e.plotLeft+e.plotWidth/2,translateY:e.plotTop+e.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01}):(o.animate({translateX:e.plotLeft,translateY:e.plotTop,scaleX:1,scaleY:1,opacity:1},this.chart.options.drilldown.animation),e.drilldown&&e.drilldown.fadeInGroup(this.dataLabelsGroup)))},e.prototype.animateDrillupFrom=function(){var t=this.chart;t.renderer.isSVG&&this.group.animate({translateX:t.plotLeft+t.plotWidth/2,translateY:t.plotTop+t.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01})},e.prototype.animateDrillupTo=function(t){y.prototype.animateDrillupTo.call(this,t)},e.prototype.clearBounds=function(){this.points.forEach(function(t){delete t.bounds,delete t.insetIndex,delete t.projectedPath}),delete this.bounds},e.prototype.doFullTranslate=function(){return!(!(this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML)&&this.hasRendered)},e.prototype.drawMapDataLabels=function(){p.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},e.prototype.drawPoints=function(){var t=this,e=this.chart,o=this.group,i=this.transformGroups,r=void 0===i?[]:i,n=e.mapView,s=e.renderer;n&&(this.transformGroups=r,r[0]||(r[0]=s.g().add(o)),n.insets.forEach(function(t,e){r[e+1]||r.push(s.g().add(o))}),this.doFullTranslate()&&(this.points.forEach(function(o){var i=o.graphic,n=o.shapeArgs;o.group=r["number"==typeof o.insetIndex?o.insetIndex+1:0],i&&i.parentGroup!==o.group&&i.add(o.group),n&&e.hasRendered&&!e.styledMode&&(n.fill=t.pointAttribs(o,o.state).fill)}),y.prototype.drawPoints.apply(this),this.points.forEach(function(o){if(o.graphic){var i="";o.name&&(i+="highcharts-name-"+o.name.replace(/ /g,"-").toLowerCase()),o.properties&&o.properties["hc-key"]&&(i+=" highcharts-key-"+o.properties["hc-key"].toString().toLowerCase()),i&&o.graphic.addClass(i),e.styledMode&&o.graphic.css(t.pointAttribs(o,o.selected?"select":void 0))}})),r.forEach(function(o,i){var r=(0===i?n:n.insets[i-1]).getSVGTransform(),a=P(t.options[t.pointAttrToOptions&&t.pointAttrToOptions["stroke-width"]||"borderWidth"],1),p=r.scaleX,l=0<r.scaleY?1:-1;if(s.globalAnimation&&e.hasRendered){var h=Number(o.attr("translateX")),c=Number(o.attr("translateY")),u=Number(o.attr("scaleX"));o.attr({animator:0}).animate({animator:1},{step:function(t,e){t=u+(p-u)*e.pos,o.attr({translateX:h+(r.translateX-h)*e.pos,translateY:c+(r.translateY-c)*e.pos,scaleX:t,scaleY:t*l}),o.element.setAttribute("stroke-width",a/t)}})}else o.attr(r),o.element.setAttribute("stroke-width",a/p)}),this.drawMapDataLabels())},e.prototype.getProjectedBounds=function(){if(!this.bounds&&this.chart.mapView){var t=this.chart.mapView,e=t.insets,o=t.projection,i=[];(this.points||[]).forEach(function(t){if(t.path||t.geometry){if("string"==typeof t.path?t.path=f(t.path):x(t.path)&&"M"===t.path[0]&&(t.path=h.prototype.pathToSegments(t.path)),!t.bounds){var r=t.getProjectedBounds(o);if(r){t.labelrank=P(t.labelrank,(r.x2-r.x1)*(r.y2-r.y1));var n=r.midX,s=r.midY;if(e&&M(n)&&M(s)){var a=m(e,function(t){return t.isInside({x:n,y:s})});a&&(delete t.projectedPath,(r=t.getProjectedBounds(a.projection))&&a.allBounds.push(r),t.insetIndex=e.indexOf(a))}t.bounds=r}}t.bounds&&void 0===t.insetIndex&&i.push(t.bounds)}}),this.bounds=a.compositeBounds(i)}return this.bounds},e.prototype.hasData=function(){return!!this.processedXData.length},e.prototype.pointAttribs=function(t,e){var o=t.series.chart,i=o.mapView;return e=o.styledMode?this.colorAttribs(t):y.prototype.pointAttribs.call(this,t,e),(t=t.options[this.pointAttrToOptions&&this.pointAttrToOptions["stroke-width"]||"borderWidth"])&&i&&(t/=i.getScale()),e.dashstyle&&i&&this.options.borderWidth&&(t=this.options.borderWidth/i.getScale()),e["stroke-width"]=P(t,"inherit"),e},e.prototype.setData=function(){t.prototype.setData.apply(this,arguments),this.processData(),this.generatePoints()},e.prototype.processData=function(){var t=this.options,e=t.data,o=this.chart.options.chart,r=this.joinBy,n=t.keys||this.pointArrayMap,a=[],p={},l=this.chart.mapView;l=l&&(j(t.mapData,!0)?l.getGeoMap(t.mapData):l.geoMap);var h=this.chart.mapTransforms;if((this.chart.mapTransforms=h=o.mapTransforms||l&&l["hc-transform"]||h)&&w(h,function(t){t.rotation&&(t.cosAngle=Math.cos(t.rotation),t.sinAngle=Math.sin(t.rotation))}),x(t.mapData))var c=t.mapData;else l&&"FeatureCollection"===l.type&&(this.mapTitle=l.title,c=i.geojson(l,this.type,this));var u=this.processedData=[];if(e&&e.forEach(function(o,i){var a=0;if(M(o))u[i]={value:o};else if(x(o)){u[i]={},!t.keys&&o.length>n.length&&"string"==typeof o[0]&&(u[i]["hc-key"]=o[0],++a);for(var p=0;p<n.length;++p,++a)n[p]&&void 0!==o[a]&&(0<n[p].indexOf(".")?s.prototype.setNestedProperty(u[i],o[a],n[p]):u[i][n[p]]=o[a])}else u[i]=e[i];r&&"_i"===r[0]&&(u[i]._i=i)}),c){for(this.mapData=c,this.mapMap={},h=0;h<c.length;h++)l=(o=c[h]).properties,o._i=h,r[0]&&l&&l[r[0]]&&(o[r[0]]=l[r[0]]),p[o[r[0]]]=o;if(this.mapMap=p,r[1]){var d=r[1];u.forEach(function(t){t=b(d,t),p[t]&&a.push(p[t])})}if(t.allAreas){if(r[1]){var f=r[1];u.forEach(function(t){a.push(b(f,t))})}var y="|"+a.map(function(t){return t&&t[r[0]]}).join("|")+"|";c.forEach(function(t){r[0]&&-1!==y.indexOf("|"+t[r[0]]+"|")||u.push(C(t,{value:null}))})}}this.processedXData=Array(u.length)},e.prototype.setOptions=function(t){var e=(t=p.prototype.setOptions.call(this,t)).joinBy;return null===e&&(e="_i"),(e=this.joinBy=S(e))[1]||(e[1]=e[0]),t},e.prototype.translate=function(){var t=this.doFullTranslate(),e=this.chart.mapView,o=e&&e.projection;if(!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,this.getProjectedBounds()),e){var i=e.getSVGTransform();this.points.forEach(function(r){var n=M(r.insetIndex)&&e.insets[r.insetIndex].getSVGTransform()||i;n&&r.bounds&&M(r.bounds.midX)&&M(r.bounds.midY)&&(r.plotX=r.bounds.midX*n.scaleX+n.translateX,r.plotY=r.bounds.midY*n.scaleY+n.translateY),t&&(r.shapeType="path",r.shapeArgs={d:s.getProjectedPath(r,o)})})}v(this,"afterTranslate")},e.defaultOptions=C(g.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){var t=this.series.chart.numberFormatter,e=this.point.value;return M(e)?t(e,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"},inactive:{opacity:1}}}),e}(g),n(c.prototype,{type:"map",axisTypes:e.SeriesMixin.axisTypes,colorAttribs:e.SeriesMixin.colorAttribs,colorKey:e.SeriesMixin.colorKey,directTouch:!0,drawDataLabels:t,drawGraph:t,drawLegendSymbol:r.drawRectangle,forceDL:!0,getCenter:o.getCenter,getExtremesFromAll:!0,getSymbol:e.SeriesMixin.getSymbol,isCartesian:!1,parallelArrays:e.SeriesMixin.parallelArrays,pointArrayMap:e.SeriesMixin.pointArrayMap,pointClass:s,preserveAspectRatio:!0,searchPoint:t,trackerGroups:e.SeriesMixin.trackerGroups,useMapGeometry:!0}),l.registerSeriesType("map",c),c}),e(t,"Series/MapLine/MapLineSeries.js",[t["Series/Map/MapSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o){var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=e.series,n=o.extend,s=o.merge;return o=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i(o,e),o.prototype.pointAttribs=function(e,o){return(e=t.prototype.pointAttribs.call(this,e,o)).fill=this.options.fillColor,e},o.defaultOptions=s(t.defaultOptions,{lineWidth:1,fillColor:"none"}),o}(t),n(o.prototype,{type:"mapline",colorProp:"stroke",drawLegendSymbol:r.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),e.registerSeriesType("mapline",o),o}),e(t,"Series/MapPoint/MapPointPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var o=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),i=e.isNumber;return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=void 0,e.series=void 0,e}return o(e,t),e.prototype.isValid=function(){return!!(this.options.geometry||i(this.x)&&i(this.y)||i(this.options.lon)&&i(this.options.lat))},e}(t.seriesTypes.scatter.prototype.pointClass)}),e(t,"Series/MapPoint/MapPointSeries.js",[t["Core/Globals.js"],t["Series/MapPoint/MapPointPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o,i){var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}();t=t.noop;var n=o.seriesTypes.scatter,s=i.extend,a=i.fireEvent,p=i.isNumber,l=i.merge;return i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chart=void 0,e.data=void 0,e.options=void 0,e.points=void 0,e}return r(e,t),e.prototype.drawDataLabels=function(){t.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},e.prototype.projectPoint=function(t){var e=this.chart.mapView;if(e){var o=t.geometry,i=t.lon;if(t=t.lat,o=o&&"Point"===o.type&&o.coordinates,p(i)&&p(t)&&(o=[i,t]),o)return e.lonLatToProjectedUnits({lon:o[0],lat:o[1]})}},e.prototype.translate=function(){var t=this,e=this.chart.mapView;if(this.processedXData||this.processData(),this.generatePoints(),e){var o=e.projection.hasCoordinates;this.points.forEach(function(i){var r=i.x;r=void 0===r?void 0:r;var n=i.y;n=void 0===n?void 0:n;var s=t.projectPoint(i.options);s?(r=s.x,n=s.y):i.bounds&&(r=i.bounds.midX,n=i.bounds.midY),p(r)&&p(n)?(r=e.projectedUnitsToPixels({x:r,y:n}),i.plotX=r.x,i.plotY=o?r.y:t.chart.plotHeight-r.y):i.y=i.plotX=i.plotY=void 0,i.isInside=t.isPointInside(i),i.zone=t.zones.length?i.getZone():void 0})}a(this,"afterTranslate")},e.defaultOptions=l(n.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}}),e}(n),s(i.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:e,searchPoint:t,useMapGeometry:!0}),o.registerSeriesType("mappoint",i),i}),e(t,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),e(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e,o,i){var r=t.parse,n=o.noop,s=i.arrayMax,a=i.arrayMin,p=i.isNumber,l=i.merge,h=i.pick,c=i.stableSort;return function(){function t(t,e){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=this.legendItemWidth=this.legendItemHeight=this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0,this.setState=n,this.init(t,e)}return t.prototype.init=function(t,e){this.options=t,this.visible=!0,this.chart=e.chart,this.legend=e},t.prototype.addToLegend=function(t){t.splice(this.options.legendIndex,0,this)},t.prototype.drawLegendSymbol=function(t){var e=this.chart,o=this.options,i=h(t.options.itemDistance,20),r=o.ranges,n=o.connectorDistance;this.fontMetrics=e.renderer.fontMetrics(o.labels.style.fontSize),r&&r.length&&p(r[0].value)?(c(r,function(t,e){return e.value-t.value}),this.ranges=r,this.setOptions(),this.render(),t=this.getMaxLabelSize(),e=2*(r=this.ranges[0].radius),n=0<(n=n-r+t.width)?n:0,this.maxLabel=t,this.movementX="left"===o.labels.align?n:0,this.legendItemWidth=e+n+i,this.legendItemHeight=e+this.fontMetrics.h/2):t.options.bubbleLegend.autoRanges=!0},t.prototype.setOptions=function(){var t=this.ranges,e=this.options,o=this.chart.series[e.seriesIndex],i=this.legend.baseline,n={zIndex:e.zIndex,"stroke-width":e.borderWidth},s={zIndex:e.zIndex,"stroke-width":e.connectorWidth},a={align:this.legend.options.rtl||"left"===e.labels.align?"right":"left",zIndex:e.zIndex},p=o.options.marker.fillOpacity,c=this.chart.styledMode;t.forEach(function(u,d){c||(n.stroke=h(u.borderColor,e.borderColor,o.color),n.fill=h(u.color,e.color,1!==p?r(o.color).setOpacity(p).get("rgba"):o.color),s.stroke=h(u.connectorColor,e.connectorColor,o.color)),t[d].radius=this.getRangeRadius(u.value),t[d]=l(t[d],{center:t[0].radius-t[d].radius+i}),c||l(!0,t[d],{bubbleAttribs:l(n),connectorAttribs:l(s),labelAttribs:a})},this)},t.prototype.getRangeRadius=function(t){var e=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,e.ranges[e.ranges.length-1].value,e.ranges[0].value,e.minSize,e.maxSize,t)},t.prototype.render=function(){var t=this.chart.renderer,e=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),this.legendSymbol=t.g("bubble-legend"),this.legendItem=t.g("bubble-legend-item"),this.legendSymbol.translateX=0,this.legendSymbol.translateY=0,this.ranges.forEach(function(t){t.value>=e&&this.renderRange(t)},this),this.legendSymbol.add(this.legendItem),this.legendItem.add(this.legendGroup),this.hideOverlappingLabels()},t.prototype.renderRange=function(t){var e=this.options,o=e.labels,i=this.chart,r=i.series[e.seriesIndex],n=i.renderer,s=this.symbols;i=s.labels;var a=t.center,p=Math.abs(t.radius),l=e.connectorDistance||0,h=o.align,c=e.connectorWidth,u=this.ranges[0].radius||0,d=a-p-e.borderWidth/2+c/2,f=this.fontMetrics;f=f.f/2-(f.h-f.f)/2;var y=n.styledMode;l=this.legend.options.rtl||"left"===h?-l:l,"center"===h&&(l=0,e.connectorDistance=0,t.labelAttribs.align="center"),h=d+e.labels.y;var g=u+l+e.labels.x;s.bubbleItems.push(n.circle(u,a+((d%1?1:.5)-(c%2?0:.5)),p).attr(y?{}:t.bubbleAttribs).addClass((y?"highcharts-color-"+r.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(e.className||"")).add(this.legendSymbol)),s.connectors.push(n.path(n.crispLine([["M",u,d],["L",u+l,d]],e.connectorWidth)).attr(y?{}:t.connectorAttribs).addClass((y?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(e.connectorClassName||"")).add(this.legendSymbol)),t=n.text(this.formatLabel(t),g,h+f).attr(y?{}:t.labelAttribs).css(y?{}:o.style).addClass("highcharts-bubble-legend-labels "+(e.labels.className||"")).add(this.legendSymbol),i.push(t),t.placed=!0,t.alignAttr={x:g,y:h+f}},t.prototype.getMaxLabelSize=function(){var t,e;return this.symbols.labels.forEach(function(o){e=o.getBBox(!0),t=t?e.width>t.width?e:t:e}),t||{}},t.prototype.formatLabel=function(t){var o=this.options,i=o.labels.formatter;o=o.labels.format;var r=this.chart.numberFormatter;return o?e.format(o,t):i?i.call(t):r(t.value,1)},t.prototype.hideOverlappingLabels=function(){var t=this.chart,e=this.symbols;!this.options.labels.allowOverlap&&e&&(t.hideOverlappingLabels(e.labels),e.labels.forEach(function(t,o){t.newOpacity?t.newOpacity!==t.oldOpacity&&e.connectors[o].show():e.connectors[o].hide()}))},t.prototype.getRanges=function(){var t,e=this.legend.bubbleLegend,o=e.options.ranges,i=Number.MAX_VALUE,r=-Number.MAX_VALUE;e.chart.series.forEach(function(e){e.isBubble&&!e.ignoreSeries&&((t=e.zData.filter(p)).length&&(i=h(e.options.zMin,Math.min(i,Math.max(a(t),!1===e.options.displayNegative?e.options.zThreshold:-Number.MAX_VALUE))),r=h(e.options.zMax,Math.max(r,s(t)))))});var n=i===r?[{value:r}]:[{value:i},{value:(i+r)/2},{value:r,autoRanges:!0}];return o.length&&o[0].radius&&n.reverse(),n.forEach(function(t,e){o&&o[e]&&(n[e]=l(o[e],t))}),n},t.prototype.predictBubbleSizes=function(){var t=this.chart,e=this.fontMetrics,o=t.legend.options,i=o.floating,r=(o="horizontal"===o.layout)?t.legend.lastLineHeight:0,n=t.plotSizeX,s=t.plotSizeY,a=t.series[this.options.seriesIndex],p=a.getPxExtremes();t=Math.ceil(p.minPxSize),p=Math.ceil(p.maxPxSize);var l=Math.min(s,n);return a=a.options.maxSize,i||!/%$/.test(a)?e=p:(a=parseFloat(a),e=(l+r-e.h/2)*a/100/(a/100+1),(o&&s-e>=n||!o&&n-e>=s)&&(e=p)),[t,Math.ceil(e)]},t.prototype.updateRanges=function(t,e){var o=this.legend.options.bubbleLegend;o.minSize=t,o.maxSize=e,o.ranges=this.getRanges()},t.prototype.correctSizes=function(){var t=this.legend,e=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(e.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,e.maxPxSize),t.render())},t}()}),e(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/DefaultOptions.js"],t["Core/Utilities.js"]],function(t,e,o,i){var r,n=o.setOptions,s=i.addEvent,a=i.objectEach,p=i.wrap;return function(o){function i(t,e,o){var i=this.legend,n=0<=r(this);if(i&&i.options.enabled&&i.bubbleLegend&&i.options.bubbleLegend.autoRanges&&n){var s=i.bubbleLegend.options;n=i.bubbleLegend.predictBubbleSizes(),i.bubbleLegend.updateRanges(n[0],n[1]),s.placed||(i.group.placed=!1,i.allItems.forEach(function(t){t.legendGroup.translateY=null})),i.render(),this.getMargins(),this.axes.forEach(function(t){t.visible&&t.render(),s.placed||(t.setScale(),t.updateNames(),a(t.ticks,function(t){t.isNew=!0,t.isNewLabel=!0}))}),s.placed=!0,this.getMargins(),t.call(this,e,o),i.bubbleLegend.correctSizes(),u(i,l(i))}else t.call(this,e,o),i&&i.options.enabled&&i.bubbleLegend&&(i.render(),u(i,l(i)))}function r(t){t=t.series;for(var e=0;e<t.length;){if(t[e]&&t[e].isBubble&&t[e].visible&&t[e].zData.length)return e;e++}return-1}function l(t){var e,o=[],i=(t=t.allItems).length,r=0;for(e=0;e<i;e++)if(t[e].legendItemHeight&&(t[e].itemHeight=t[e].legendItemHeight),t[e]===t[i-1]||t[e+1]&&t[e]._legendItemPos[1]!==t[e+1]._legendItemPos[1]){o.push({height:0});for(var n=o[o.length-1];r<=e;r++)t[r].itemHeight>n.height&&(n.height=t[r].itemHeight);n.step=e}return o}function h(t){var o=this.bubbleLegend,i=this.options,n=i.bubbleLegend,s=r(this.chart);o&&o.ranges&&o.ranges.length&&(n.ranges.length&&(n.autoRanges=!!n.ranges[0].autoRanges),this.destroyItem(o)),0<=s&&i.enabled&&n.enabled&&(n.seriesIndex=s,this.bubbleLegend=new e(n,this),this.bubbleLegend.addToLegend(t.allItems))}function c(){var t=this.chart,e=this.visible,o=this.chart.legend;o&&o.bubbleLegend&&(this.visible=!e,this.ignoreSeries=e,t=0<=r(t),o.bubbleLegend.visible!==t&&(o.update({bubbleLegend:{enabled:t}}),o.bubbleLegend.visible=t),this.visible=e)}function u(t,e){var o,i,r,n=t.options.rtl,s=0;t.allItems.forEach(function(t,a){o=t.legendGroup.translateX,i=t._legendItemPos[1],((r=t.movementX)||n&&t.ranges)&&(r=n?o-t.options.maxSize/2:o+r,t.legendGroup.attr({translateX:r})),a>e[s].step&&s++,t.legendGroup.attr({translateY:Math.round(i+e[s].height/2)}),t._legendItemPos[1]=i+e[s].height/2})}var d=[];o.compose=function(e,o,r){-1===d.indexOf(e)&&(d.push(e),n({legend:{bubbleLegend:t}}),p(e.prototype,"drawChartBox",i)),-1===d.indexOf(o)&&(d.push(o),s(o,"afterGetAllItems",h)),-1===d.indexOf(r)&&(d.push(r),s(r,"legendItemClick",c))}}(r||(r={})),r}),e(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o){var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}();return(o=o.extend)((e=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return i(o,e),o.prototype.haloPath=function(e){return t.prototype.haloPath.call(this,0===e?0:(this.marker&&this.marker.radius||0)+e)},o}(e.seriesTypes.scatter.prototype.pointClass)).prototype,{ttBelow:!1}),e}),e(t,"Series/Bubble/BubbleSeries.js",[t["Core/Axis/Axis.js"],t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o,i,r,n,s,a){var p=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),l=i.parse;i=r.noop;var h=s.seriesTypes;r=h.column;var c=h.scatter;h=a.addEvent;var u=a.arrayMax,d=a.arrayMin,f=a.clamp,y=a.extend,g=a.isNumber,m=a.merge,v=a.pick;return a=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.maxPxSize=void 0,e.minPxSize=void 0,e.options=void 0,e.points=void 0,e.radii=void 0,e.yData=void 0,e.zData=void 0,e}return p(o,t),o.prototype.animate=function(t){!t&&this.points.length<this.options.animationLimit&&this.points.forEach(function(t){var e=t.graphic;e&&e.width&&(this.hasRendered||e.attr({x:t.plotX,y:t.plotY,width:1,height:1}),e.animate(this.markerAttribs(t),this.options.animation))},this)},o.prototype.getRadii=function(){var t=this,e=this.zData,o=this.yData,i=[],r=this.chart.bubbleZExtremes,n=this.getPxExtremes(),s=n.minPxSize,a=n.maxPxSize;if(!r){var p,l=Number.MAX_VALUE,h=-Number.MAX_VALUE;this.chart.series.forEach(function(e){e.bubblePadding&&(e.visible||!t.chart.options.chart.ignoreHiddenSeries)&&(e=e.getZExtremes())&&(l=Math.min(l||e.zMin,e.zMin),h=Math.max(h||e.zMax,e.zMax),p=!0)}),p?(r={zMin:l,zMax:h},this.chart.bubbleZExtremes=r):r={zMin:0,zMax:0}}var c=0;for(n=e.length;c<n;c++){var u=e[c];i.push(this.getRadius(r.zMin,r.zMax,s,a,u,o[c]))}this.radii=i},o.prototype.getRadius=function(t,e,o,i,r,n){var s=this.options,a="width"!==s.sizeBy,p=s.zThreshold,l=e-t,h=.5;if(null===n||null===r)return null;if(g(r)){if(s.sizeByAbsoluteValue&&(r=Math.abs(r-p),l=Math.max(e-p,Math.abs(t-p)),t=0),r<t)return o/2-1;0<l&&(h=(r-t)/l)}return a&&0<=h&&(h=Math.sqrt(h)),Math.ceil(o+h*(i-o))/2},o.prototype.hasData=function(){return!!this.processedXData.length},o.prototype.pointAttribs=function(t,e){var o=this.options.marker.fillOpacity;return t=n.prototype.pointAttribs.call(this,t,e),1!==o&&(t.fill=l(t.fill).setOpacity(o).get("rgba")),t},o.prototype.translate=function(){t.prototype.translate.call(this),this.getRadii(),this.translateBubble()},o.prototype.translateBubble=function(){for(var t=this.data,e=this.radii,o=this.getPxExtremes().minPxSize,i=t.length;i--;){var r=t[i],n=e?e[i]:0;g(n)&&n>=o/2?(r.marker=y(r.marker,{radius:n,width:2*n,height:2*n}),r.dlBox={x:r.plotX-n,y:r.plotY-n,width:2*n,height:2*n}):r.shapeArgs=r.plotY=r.dlBox=void 0}},o.prototype.getPxExtremes=function(){var t=Math.min(this.chart.plotWidth,this.chart.plotHeight),e=function(e){if("string"==typeof e){var o=/%$/.test(e);e=parseInt(e,10)}return o?t*e/100:e},o=e(v(this.options.minSize,8));return{minPxSize:o,maxPxSize:e=Math.max(e(v(this.options.maxSize,"20%")),o)}},o.prototype.getZExtremes=function(){var t=this.options,e=(this.zData||[]).filter(g);if(e.length){var o=v(t.zMin,f(d(e),!1===t.displayNegative?t.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(t=v(t.zMax,u(e)),g(o)&&g(t))return{zMin:o,zMax:t}}},o.compose=e.compose,o.defaultOptions=m(c.defaultOptions,{dataLabels:{formatter:function(){var t=this.series.chart.numberFormatter,e=this.point.z;return g(e)?t(e,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),o}(c),y(a.prototype,{alignDataLabel:r.prototype.alignDataLabel,applyZones:i,bubblePadding:!0,buildKDTree:i,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:o,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),h(a,"updatedData",function(t){delete t.target.chart.bubbleZExtremes}),t.prototype.beforePadding=function(){var t,e=this,o=this.len,i=this.chart,r=0,n=o,s=this.isXAxis,a=s?"xData":"yData",p=this.min,l=this.max-p,h=o/l;this.series.forEach(function(o){if(o.bubblePadding&&(o.visible||!i.options.chart.ignoreHiddenSeries)){t=e.allowZoomOutside=!0;var c=o[a];if(s&&o.getRadii(0,0,o),0<l)for(var u=c.length;u--;)if(g(c[u])&&e.dataMin<=c[u]&&c[u]<=e.max){var d=o.radii&&o.radii[u]||0;r=Math.min((c[u]-p)*h-d,r),n=Math.max((c[u]-p)*h+d,n)}}}),t&&0<l&&!this.logarithmic&&(n-=o,h*=(o+Math.max(0,r)-Math.min(n,o))/o,[["min","userMin",r],["max","userMax",n]].forEach(function(t){void 0===v(e.options[t[0]],e[t[1]])&&(e[t[0]]+=t[2]/h)}))},s.registerSeriesType("bubble",a),a}),e(t,"Series/MapBubble/MapBubblePoint.js",[t["Series/Map/MapPoint.js"],t["Core/Series/SeriesRegistry.js"]],function(t,e){var o=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),i=(e=e.seriesTypes).map;return function(e){function r(){var o=null!==e&&e.apply(this,arguments)||this;return o.applyOptions=i.prototype.pointClass.prototype.applyOptions,o.getProjectedBounds=t.prototype.getProjectedBounds,o}return o(r,e),r.prototype.isValid=function(){return"number"==typeof this.z},r}(e.bubble.prototype.pointClass)}),e(t,"Series/MapBubble/MapBubbleSeries.js",[t["Series/Bubble/BubbleSeries.js"],t["Series/MapBubble/MapBubblePoint.js"],t["Series/Map/MapSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e,o,i,r,n){var s=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),a=i.seriesTypes.mappoint;r=n.extend;var p=n.merge;return r((n=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(o,e),o.prototype.searchPoint=function(t,e){return this.searchKDTree({clientX:t.chartX-this.chart.plotLeft,plotY:t.chartY-this.chart.plotTop},e,t)},o.prototype.translate=function(){a.prototype.translate.call(this),this.getRadii(),this.translateBubble()},o.compose=t.compose,o.defaultOptions=p(t.defaultOptions,{animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}}),o}(t)).prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:o.prototype.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:e,processData:o.prototype.processData,projectPoint:a.prototype.projectPoint,setData:o.prototype.setData,setOptions:o.prototype.setOptions,useMapGeometry:!0,xyFromShape:!0}),i.registerSeriesType("mapbubble",n),n}),e(t,"Series/Heatmap/HeatmapPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var o=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),i=e.clamp,r=e.defined,n=e.extend,s=e.pick;return t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options=void 0,e.series=void 0,e.value=void 0,e.x=void 0,e.y=void 0,e}return o(e,t),e.prototype.applyOptions=function(e,o){return(e=t.prototype.applyOptions.call(this,e,o)).formatPrefix=e.isNull||null===e.value?"null":"point",e},e.prototype.getCellAttributes=function(){var t=this.series,e=t.options,o=(e.colsize||1)/2,n=(e.rowsize||1)/2,a=t.xAxis,p=t.yAxis,l=this.options.marker||t.options.marker;t=t.pointPlacementToXValue();var h=s(this.pointPadding,e.pointPadding,0),c={x1:i(Math.round(a.len-(a.translate(this.x-o,!1,!0,!1,!0,-t)||0)),-a.len,2*a.len),x2:i(Math.round(a.len-(a.translate(this.x+o,!1,!0,!1,!0,-t)||0)),-a.len,2*a.len),y1:i(Math.round(p.translate(this.y-n,!1,!0,!1,!0)||0),-p.len,2*p.len),y2:i(Math.round(p.translate(this.y+n,!1,!0,!1,!0)||0),-p.len,2*p.len)};return[["width","x"],["height","y"]].forEach(function(t){var e=t[0],o=(t=t[1])+"1",i=t+"2",n=Math.abs(c[o]-c[i]),s=l&&l.lineWidth||0,a=Math.abs(c[o]+c[i])/2;e=l&&l[e],r(e)&&e<n&&(e=e/2+s/2,c[o]=a-e,c[i]=a+e),h&&("y"===t&&(o=i,i=t+"1"),c[o]+=h,c[i]-=h)}),c},e.prototype.haloPath=function(t){if(!t)return[];var e=this.shapeArgs;return["M",e.x-t,e.y-t,"L",e.x-t,e.y+e.height+t,e.x+e.width+t,e.y+e.height+t,e.x+e.width+t,e.y-t,"Z"]},e.prototype.isValid=function(){return 1/0!==this.value&&-1/0!==this.value},e}(t.seriesTypes.scatter.prototype.pointClass),n(t.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),t}),e(t,"Series/Heatmap/HeatmapSeries.js",[t["Core/Color/Color.js"],t["Series/ColorMapMixin.js"],t["Series/Heatmap/HeatmapPoint.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,o,i,r,n,s){var a=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),p=r.series,l=r.seriesTypes,h=l.column,c=l.scatter,u=n.prototype.symbols,d=s.extend,f=s.fireEvent,y=s.isNumber,g=s.merge,m=s.pick;return n=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.colorAxis=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t.valueMax=NaN,t.valueMin=NaN,t}return a(o,e),o.prototype.drawPoints=function(){var t=this;((this.options.marker||{}).enabled||this._hasPointMarkers)&&(p.prototype.drawPoints.call(this),this.points.forEach(function(e){e.graphic&&(e.graphic[t.chart.styledMode?"css":"animate"](t.colorAttribs(e)),t.options.borderRadius&&e.graphic.attr({r:t.options.borderRadius}),(e.shapeArgs||{}).r=t.options.borderRadius,(e.shapeArgs||{}).d=e.graphic.pathArray,null===e.value&&e.graphic.addClass("highcharts-null-point"))}))},o.prototype.getExtremes=function(){var t=p.prototype.getExtremes.call(this,this.valueData),e=t.dataMin;return t=t.dataMax,y(e)&&(this.valueMin=e),y(t)&&(this.valueMax=t),p.prototype.getExtremes.call(this)},o.prototype.getValidPoints=function(t,e){return p.prototype.getValidPoints.call(this,t,e,!0)},o.prototype.hasData=function(){return!!this.processedXData.length},o.prototype.init=function(){p.prototype.init.apply(this,arguments);var t=this.options;t.pointRange=m(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1,u.ellipse=u.circle},o.prototype.markerAttribs=function(t,e){var o=t.marker||{},i=this.options.marker||{},r=t.shapeArgs||{},n={};if(t.hasImage)return{x:t.plotX,y:t.plotY};if(e){var s=i.states[e]||{},a=o.states&&o.states[e]||{};[["width","x"],["height","y"]].forEach(function(t){n[t[0]]=(a[t[0]]||s[t[0]]||r[t[0]])+(a[t[0]+"Plus"]||s[t[0]+"Plus"]||0),n[t[1]]=r[t[1]]+(r[t[0]]-n[t[0]])/2})}return e?n:r},o.prototype.pointAttribs=function(e,o){var i=p.prototype.pointAttribs.call(this,e,o),r=this.options||{},n=this.chart.options.plotOptions||{},s=n.series||{},a=n.heatmap||{};return n=e&&e.options.borderColor||r.borderColor||a.borderColor||s.borderColor,s=e&&e.options.borderWidth||r.borderWidth||a.borderWidth||s.borderWidth||i["stroke-width"],i.stroke=e&&e.marker&&e.marker.lineColor||r.marker&&r.marker.lineColor||n||this.color,i["stroke-width"]=s,o&&(o=(e=g(r.states[o],r.marker&&r.marker.states[o],e&&e.options.states&&e.options.states[o]||{})).brightness,i.fill=e.color||t.parse(i.fill).brighten(o||0).get(),i.stroke=e.lineColor),i},o.prototype.setClip=function(t){var e=this.chart;p.prototype.setClip.apply(this,arguments),(!1!==this.options.clip||t)&&this.markerGroup.clip((t||this.clipBox)&&this.sharedClipKey?e.sharedClips[this.sharedClipKey]:e.clipRect)},o.prototype.translate=function(){var t=this.options,e=t.marker&&t.marker.symbol||"rect",o=u[e]?e:"rect",i=-1!==["circle","square"].indexOf(o);this.generatePoints(),this.points.forEach(function(t){var r=t.getCellAttributes(),n={};n.x=Math.min(r.x1,r.x2),n.y=Math.min(r.y1,r.y2),n.width=Math.max(Math.abs(r.x2-r.x1),0),n.height=Math.max(Math.abs(r.y2-r.y1),0);var s=t.hasImage=0===(t.marker&&t.marker.symbol||e||"").indexOf("url");if(i){var a=Math.abs(n.width-n.height);n.x=Math.min(r.x1,r.x2)+(n.width<n.height?0:a/2),n.y=Math.min(r.y1,r.y2)+(n.width<n.height?a/2:0),n.width=n.height=Math.min(n.width,n.height)}a={plotX:(r.x1+r.x2)/2,plotY:(r.y1+r.y2)/2,clientX:(r.x1+r.x2)/2,shapeType:"path",shapeArgs:g(!0,n,{d:u[o](n.x,n.y,n.width,n.height)})},s&&(t.marker={width:n.width,height:n.height}),d(t,a)}),f(this,"afterTranslate")},o.defaultOptions=g(c.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var t=this.series.chart.numberFormatter,e=this.point.value;return y(e)?t(e,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}}),o}(c),d(n.prototype,{alignDataLabel:h.prototype.alignDataLabel,axisTypes:e.SeriesMixin.axisTypes,colorAttribs:e.SeriesMixin.colorAttribs,colorKey:e.SeriesMixin.colorKey,directTouch:!0,drawLegendSymbol:i.drawRectangle,getExtremesFromAll:!0,getSymbol:p.prototype.getSymbol,parallelArrays:e.SeriesMixin.parallelArrays,pointArrayMap:["y","value"],pointClass:o,trackerGroups:e.SeriesMixin.trackerGroups}),r.registerSeriesType("heatmap",n),n}),e(t,"masters/modules/map.src.js",[t["Core/Globals.js"],t["Core/Axis/Color/ColorAxis.js"],t["Series/MapBubble/MapBubbleSeries.js"],t["Core/Chart/MapChart.js"],t["Maps/MapView.js"],t["Maps/Projection.js"]],function(t,e,o,i,r,n){t.ColorAxis=e,t.MapChart=i,t.mapChart=t.Map=i.mapChart,t.MapView=r,t.maps=i.maps,t.Projection=n,e.compose(t.Chart,t.Fx,t.Legend,t.Series),o.compose(t.Chart,t.Legend,t.Series)})});
